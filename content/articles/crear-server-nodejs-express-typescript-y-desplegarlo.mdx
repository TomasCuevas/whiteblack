---
author: "TomÃ¡s Cuevas"
link: "https://www.linkedin.com/in/tomÃ¡s-cuevas-dev/"
title: "Crear un servidor de Nodejs con Express, Typescript y desplegarlo"
date: "2023-02-28"
image: "/images/og/create-nodejs-server-express-typescript.jpg"
description: "Â¡Mira cÃ³mo puedes crear un servidor de Node.js con Express y Typescript y desplegarlo en menos de 5 minutos! Aprende con nuestro artÃ­culo que incluye cÃ³digo de ejemplo e imÃ¡genes para guiarte en todo el proceso. Â¡No te lo pierdas!"
cardDescription: "A veces puede resultar complicado crear un servidor en **Node.js utilizando Express y Typescript**, especialmente debido a la configuraciÃ³n de Typescript y los paquetes necesarios que contienen los archivos de definiciÃ³n.

En este artÃ­culo, **te enseÃ±arÃ©** todo lo que necesitas saber para **crear un proyecto** de este tipo en cuestiÃ³n de minutos, incluyendo un extra que te mostrarÃ¡ cÃ³mo **desplegar** el servidor de forma totalmente **gratuita**."
category: "nodejs"
tags:
  - "nodejs"
  - "express"
  - "typescript"
keywords: "Node.js, Express, TypeScript, servidor, crear, desplegar, aplicaciones web, desarrollo web, API, endpoints, enrutamiento, middleware, controladores, modelos, autenticaciÃ³n, autorizaciÃ³n, JWT, seguridad, gestiÃ³n de errores, registro, servidor de producciÃ³n, escalabilidad, rendimiento."
---

A veces puede resultar complicado crear un servidor en **Node.js utilizando Express y Typescript**, especialmente debido a la configuraciÃ³n de Typescript y los paquetes necesarios que contienen los archivos de definiciÃ³n.

En este artÃ­culo, **te enseÃ±arÃ©** todo lo que necesitas saber para **crear un proyecto** de este tipo en cuestiÃ³n de minutos, incluyendo un extra que te mostrarÃ¡ cÃ³mo **desplegar** el servidor de forma totalmente **gratuita**. AquÃ­ les dejo el [repositorio](https://github.com/TomasCuevas/Articulos-Proyectos/tree/main/crear-servidor-nodejs-express-typescript-y-desplegarlo) del proyecto correspondiente a este artÃ­culo.

## Instalaciones y configuraciones necesarias

Para empezar, es necesario inicializar un proyecto de **Node.js** ejecutando el siguiente comando dentro de una carpeta:

```shell
npm init --y
```

Ahora que tenemos un proyecto de **Node.js**, necesitaremos **instalar** todos los **_paquetes_ necesarios** para crear nuestro **servidor**. Algunos de los paquetes que necesitaremos son: **express**, **@types/express**, **typescript**, **ts-node-dev**, **dotenv**, **cors**, y **@types/cors**.

Que los instalaremos con los siguientes comandos:

```shell
npm i express dotenv cors
```

```shell
npm i -D @types/express typescript ts-node-dev @types/cors
```

DespuÃ©s de haber instalado todos los paquetes necesarios, debemos **inicializar TypeScript** en nuestro proyecto. Para hacerlo, utilizaremos el siguiente comando:

```shell
tsc --init
```

Al ejecutar el comando anterior, se generarÃ¡ un archivo llamado **"tsconfig.json"**. Este archivo debe ser abierto y debe agregarse la configuraciÃ³n **"outDir": "build"**. Esta configuraciÃ³n indica el nombre de la carpeta donde se ubicarÃ¡ el cÃ³digo transpilado de TypeScript a JavaScript.

```json
"compilerOptions": {
  ...
  "outDir": "build"
}
```

Por Ãºltimo, necesitamos configurar los **scripts** en nuestro archivo **"package.json"**. Los scripts deben quedar de la siguiente forma:

```json
"scripts": {
  "dev": "ts-node-dev index.ts",
  "build": "tsc",
  "start": "node build/index.js"
},
```

## Creando una sencilla API

Vamos a crear una **API** que simule una calculadora sencilla. Esta API **contarÃ¡ con endpoints** para realizar operaciones de suma, resta, divisiÃ³n y multiplicaciÃ³n, y cada uno de estos endpoints recibirÃ¡ dos nÃºmeros como entrada.

### Archivo _index.ts_

```ts
import express from "express";
import dotenv from "dotenv";
import cors from "cors";

import calculadoraRoute from "./routes/calculadora.routes";

dotenv.config();

const app = express();

//* middleware *//
app.use(express.json());
app.use(cors({ origin: "*" }));

//* routes *//
app.use("/calculadora", calculadoraRoute);

app.listen(process.env.PORT, () => {
  console.log(`Server iniciado en el puerto ${process.env.PORT}`);
});
```

### Archivo _routes/calculadora.routes.ts_

```ts
import { Router } from "express";

const router = Router();

router.post("/sumar", (req, res) => {
  const { n1, n2 } = req.body;

  res.status(200).json({
    result: n1 + n2,
  });
});

router.post("/restar", (req, res) => {
  const { n1, n2 } = req.body;

  res.status(200).json({
    result: n1 - n2,
  });
});

router.post("/multiplicar", (req, res) => {
  const { n1, n2 } = req.body;

  res.status(200).json({
    result: n1 * n2,
  });
});

router.post("/dividir", (req, res) => {
  const { n1, n2 } = req.body;

  res.status(200).json({
    result: n1 / n2,
  });
});

export default router;
```

### Archivo _.env_

En este archivo, configuraremos las **variables de entorno** necesarias para nuestro proyecto. En este caso, solo estableceremos el **puerto**.

```md
port=4000
```

### Estructura final de nuestro proyecto

Tras todo lo anterior, la **estructura** de nuestro **proyecto** quedarÃ­a asÃ­:

```text
â”œâ”€ ğŸ“ node_modules
â”œâ”€ ğŸ“‚ routes
|  â”œâ”€ ğŸ–‡ï¸ calculadora.routes.ts
â”œâ”€ ğŸ–‡ï¸ .env
â”œâ”€ ğŸ–‡ï¸ index.ts
â”œâ”€ ğŸ–‡ï¸ package-lock.json
â”œâ”€ ğŸ–‡ï¸ package.json
â”œâ”€ ğŸ–‡ï¸ tsconfig.json
```

### Iniciar y utilizar nuestra aplicaciÃ³n

Ahora que **disponemos** de todo lo necesario para que nuestra **aplicaciÃ³n funcione**, es necesario **iniciarla**. Para ello, en la consola, debemos escribir el **siguiente comando**:

```shell
npm run dev
```

l siguiente paso es utilizar un programa como **Postman** o similar, que nos permita realizar **peticiones HTTP** hacia nuestra aplicaciÃ³n. En Postman o en el programa de tu elecciÃ³n, debemos escribir la **URL** donde se aloja nuestra aplicaciÃ³n, **seguida del endpoint** que queramos utilizar y en este caso, debemos utilizar el **mÃ©todo POST**.

![image](https://user-images.githubusercontent.com/79057608/222206267-b78bf001-12ea-4c3b-bfe9-2cc294d09e41.png)

En el **body** de la **peticiÃ³n**, debemos incluir las dos propiedades que todos nuestros endpoints esperan recibir para realizar la correspondiente operaciÃ³n. En **Postman**, para hacer esto, debemos seleccionar la pestaÃ±a **"Body"**, luego seleccionar **"raw"** y escribir allÃ­ el objeto JSON.

![image](https://user-images.githubusercontent.com/79057608/222206375-57d52ae3-050c-42fd-ba3a-4a6cd4b1440a.png)

**Para enviar la peticiÃ³n**, debemos presionar el botÃ³n **"Send"** y **recibiremos la respuesta** que retorna nuestro servidor. En este caso, como ejemplo, la suma de 40 + 60 devuelve un resultado de 100.

![image](https://user-images.githubusercontent.com/79057608/222206561-24094a83-90f7-42e1-8d31-644df773cc7e.png)

## Desplegar nuestro servidor

Para **desplegar nuestra aplicaciÃ³n**, utilizaremos el servicio [Render](https://dashboard.render.com/). Para acceder al servicio, podemos crear una cuenta o utilizar nuestra cuenta de GitHub o Google.

Una vez dentro, debemos dirigirnos al botÃ³n **"New"** y seleccionar la opciÃ³n de **"Web Service"**.

![image](https://user-images.githubusercontent.com/79057608/222221324-47bd26af-53e3-4972-9e61-7ce5e6cb4d7a.png)

En esa secciÃ³n, debemos conectar nuestra cuenta de Render con nuestra cuenta en GitHub o GitLab **donde se aloja el repositorio con nuestro proyecto**. Esto permitirÃ¡ que Render pueda ubicar nuestros repositorios.

![image](https://user-images.githubusercontent.com/79057608/222224138-02f3ce7b-2fc5-43ce-a238-c7ac569664a1.png)

Debemos seleccionar el repositorio donde se encuentra nuestro proyecto.

![image](https://user-images.githubusercontent.com/79057608/222224497-ab06d90c-a88b-44dc-9feb-f56efd17bdbc.png)

Cuando hayamos seleccionado Ã©l repositorio, deberemos colocar un **nombre a nuestro proyecto**.

![image](https://user-images.githubusercontent.com/79057608/222225575-d9979561-5e19-46fb-ac71-5b866df03866.png)

AdemÃ¡s, **_debemos indicarle a Render los comandos_ que debe ejecutar** para desplegar nuestro proyecto. En el apartado **"Build Command"**, colocaremos **"npm install && npm run build"**, y en el apartado **"Start Command"**, colocaremos **"npm start"**.

![image](https://user-images.githubusercontent.com/79057608/222228312-f8a2126b-47c4-4ad4-88a6-c067c0883473.png)

Por Ãºltimo, bajamos hacia el fondo de la pÃ¡gina y pulsamos el botÃ³n **"Create Web Service"** para iniciar el proceso de **deploy**. Una vez finalizado, tendremos una pantalla similar a la siguiente que indica que el deploy ha sido exitoso:

![image](https://user-images.githubusercontent.com/79057608/222231375-60d9b9c9-f084-4e47-a88b-4cff67f85e6e.png)
